// ì±—ë´‡ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤

// ë©”ì‹œì§€ íƒ€ì… ê²€ì¦
export const isValidMessageType = (type) => {
  return ['user', 'bot', 'system'].includes(type);
};

// ë©”ì‹œì§€ í¬ë§·íŒ…
export const formatMessage = (content, type = 'bot') => {
  return {
    content,
    type,
    timestamp: new Date(),
    id: `${type}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`
  };
};

// í‚¤ì›Œë“œ ì¶”ì¶œ
export const extractKeywords = (text) => {
  const keywords = [];
  const lowerText = text.toLowerCase();
  
  // ê¸°ë³¸ í‚¤ì›Œë“œë“¤
  const basicKeywords = [
    'ì±„ìš©', 'ê³µê³ ', 'ë“±ë¡', 'ì‘ì„±', 'ë©´ì ‘', 'ì´ë ¥ì„œ', 'ì§€ì›ì',
    'ê°œë°œ', 'ë§ˆì¼€íŒ…', 'ì˜ì—…', 'ë””ìì¸', 'ê¸°íš', 'ì¸ì‚¬',
    'ì‹ ì…', 'ê²½ë ¥', 'ì¸ì›', 'ê¸‰ì—¬', 'ìœ„ì¹˜', 'ì—…ë¬´'
  ];
  
  basicKeywords.forEach(keyword => {
    if (lowerText.includes(keyword)) {
      keywords.push(keyword);
    }
  });
  
  return [...new Set(keywords)];
};

// í˜ì´ì§€ë³„ í™˜ì˜ ë©”ì‹œì§€ ìƒì„±
export const getWelcomeMessage = (page) => {
  const messages = {
    'dashboard': `ì•ˆë…•í•˜ì„¸ìš”! ëŒ€ì‹œë³´ë“œì—ì„œ ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?

ğŸ“Š í˜„ì¬ í˜„í™©ì„ í™•ì¸í•˜ê±°ë‚˜ ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "í˜„ì¬ ë“±ë¡ëœ ì±„ìš©ê³µê³ ëŠ” ëª‡ ê°œì¸ê°€ìš”?"
â€¢ "ì§€ì›ì í†µê³„ë¥¼ ë³´ì—¬ì£¼ì„¸ìš”"
â€¢ "ë©´ì ‘ ì¼ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”"`,
    
    'job-posting': `ì±„ìš©ê³µê³  ë“±ë¡ì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ¯

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ì±„ìš©ê³µê³  ë“±ë¡ ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”"
â€¢ "ì–´ë–¤ ë¶€ì„œì—ì„œ ì±„ìš©í•˜ì‹œë‚˜ìš”?"
â€¢ "ì±„ìš©ê³µê³  ì‘ì„± íŒì„ ì•Œë ¤ì£¼ì„¸ìš”"`,
    
    'resume': `ì´ë ¥ì„œ ê´€ë¦¬ì— ëŒ€í•´ ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ“„

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ì§€ì›ì ì´ë ¥ì„œë¥¼ ì–´ë–»ê²Œ í™•ì¸í•˜ë‚˜ìš”?"
â€¢ "ì´ë ¥ì„œ ê²€í†  ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”"`,
    
    'interview': `ë©´ì ‘ ê´€ë¦¬ì— ëŒ€í•´ ë¬¸ì˜í•˜ì‹¤ ë‚´ìš©ì´ ìˆìœ¼ì‹ ê°€ìš”? ğŸ¤

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ë©´ì ‘ ì¼ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”"
â€¢ "ë©´ì ‘ í‰ê°€ ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”"`,
    
    'portfolio': `í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ì— ëŒ€í•´ ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ’¼

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ê¸°ëŠ¥ì´ ë­”ê°€ìš”?"
â€¢ "ì§€ì›ì í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì–´ë–»ê²Œ í™•ì¸í•˜ë‚˜ìš”?"`,
    
    'cover-letter': `ìê¸°ì†Œê°œì„œ ê²€ì¦ì— ëŒ€í•´ ë¬¸ì˜í•˜ì‹¤ ë‚´ìš©ì´ ìˆìœ¼ì‹ ê°€ìš”? âœï¸

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ìê¸°ì†Œê°œì„œ ê²€ì¦ ê¸°ëŠ¥ì´ ë­”ê°€ìš”?"
â€¢ "ìì†Œì„œ í‰ê°€ ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”"`,
    
    'talent': `ì¸ì¬ ì¶”ì²œì— ëŒ€í•´ ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ‘¥

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ì¸ì¬ ì¶”ì²œ ì‹œìŠ¤í…œì´ ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?"
â€¢ "ì¶”ì²œ ì¸ì¬ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì–´ìš”"`,
    
    'users': `ì‚¬ìš©ì ê´€ë¦¬ì— ëŒ€í•´ ë¬¸ì˜í•˜ì‹¤ ë‚´ìš©ì´ ìˆìœ¼ì‹ ê°€ìš”? ğŸ‘¤

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ì‚¬ìš©ì ëª©ë¡ì„ í™•ì¸í•´ì£¼ì„¸ìš”"
â€¢ "ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ì–´ìš”"`,
    
    'settings': `ì„¤ì •ì— ëŒ€í•´ ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤! âš™ï¸

ë‹¤ìŒ ì§ˆë¬¸ë“¤ì„ í•´ë³´ì„¸ìš”:
â€¢ "ì‹œìŠ¤í…œ ì„¤ì •ì„ ë³€ê²½í•˜ê³  ì‹¶ì–´ìš”"
â€¢ "ì•Œë¦¼ ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”"`
  };
  
  return messages[page] || 'ì•ˆë…•í•˜ì„¸ìš”! ì–´ë–¤ ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?';
};

// ìë™ ìŠ¤í¬ë¡¤ í•¨ìˆ˜
export const scrollToBottom = (ref) => {
  if (ref && ref.current) {
    ref.current.scrollIntoView({ behavior: 'smooth' });
  }
};

// ì…ë ¥ê°’ ê²€ì¦
export const validateInput = (input) => {
  if (!input || typeof input !== 'string') {
    return false;
  }
  
  const trimmed = input.trim();
  return trimmed.length > 0 && trimmed.length <= 1000;
};

// ì—ëŸ¬ ë©”ì‹œì§€ ìƒì„±
export const createErrorMessage = (error) => {
  return {
    type: 'bot',
    content: `ì£„ì†¡í•©ë‹ˆë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`,
    timestamp: new Date(),
    isError: true
  };
}; 